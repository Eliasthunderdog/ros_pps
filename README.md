# ros_pps

尝试用概率编程方法替代现有的ROS包中一些使用贝叶斯推断的部分，尝试寻找其中公共的pattern进行代码复用。

### 机器人系统中需要面临的概率问题

机器人在完成任务的过程中需要处理概率问题，这些问题本质上是由传感器和系统本身的误差造成的，其中比较突出的问题有两个：


- 一个量的误差可能会随着时间慢慢增大，比如让机器人向前走1步距离的误差，和向前走10步距离的误差。这些需要通过一些其他的传感器进行修正。
- 需要计算的未知变量相互依赖，对一个未知量的估计会影响另一个量的估计。比如SLAM问题，对地图（周围环境信息，比如离一个障碍物有多远）会影响到对自身位置的估计。可以把它想成两个随机变量的联合分布。

### 目前存在的缺陷

**ROS工具包中一些公共的代码或者功能部分难以复用。**我在TurtleBot3实验平台上做的模拟实验，slam, navigation等功能都是调用现成的工具包实现的，这些工具包中包含不同的node完成各自的功能，比如navigation中包含用于定位的amcl和其他关于路径规划的包。如果实验过程中需要开发新的功能，其中的概率推断部分就可以进行复用，因为我们可以将贝叶斯推断或者其他的概率模型用某种方式抽象出来，这些公共的pattern就可以直接调用，方便开发和测试。这也是已有的概率编程系统期望达到的目标。

还需要讨论：目前在ROS上主要进行的实验中是怎样使用这些概率系统的？这主要考虑我们可以直接调用哪些部分，如果复用的公共部分太多，可能会使定制性变得很差。

### 下一步的计划

目前已经在TurtleBot3模拟器上弄明白了在给定地图的条件下，如何根据激光传感器的信息达到机器人定位的目的。与之相关的topic和service以及相关代码已经定位清楚。下一步是尝试用已有的概率编程系统尝试着替换这一部分的功能。